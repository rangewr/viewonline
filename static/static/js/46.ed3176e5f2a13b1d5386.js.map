{"version":3,"sources":["webpack:///static/js/46.ed3176e5f2a13b1d5386.js","webpack:///./src/views/addInfo/ShopChart.vue","webpack:///ShopChart.vue?76e3","webpack:///./src/views/addInfo/ShopChart.vue?f3e4"],"names":["webpackJsonp","501","module","exports","__webpack_require__","Component","589","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1_qs__","__WEBPACK_IMPORTED_MODULE_1_qs___default","data","_this","this","columns","title","align","key","render","h","params","props","type","size","style","marginRight","on","click","meetManage","index","handleRemove","data1","formDynamic","items","created","reloadPage","methods","$router","push","path","query","Id","handleAdd","_this2","cName","prompt","a","post","stringify","communityname","then","response","data0","Result","$Message","success","error","ErrMsg","catch","console","log","_this3","ErrCode","_this4","get","711","_vm","_h","$createElement","_c","_self","attrs","span","staticClass","_v","ref","model","label-width","long","icon","$event","staticRenderFns"],"mappings":"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","file":"static/js/46.ed3176e5f2a13b1d5386.js","sourcesContent":["webpackJsonp([46],{\n\n/***/ 501:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(589),\n  /* template */\n  __webpack_require__(711),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 589:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_qs__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_qs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_qs__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        var _this = this;\n\n        return {\n            columns: [{\n                title: '社区编号',\n                align: 'center',\n                key: 'Id'\n            }, {\n                title: '社区名称',\n                align: 'center',\n                key: 'Communityname'\n            }, {\n                title: '操作',\n                key: 'action',\n                align: 'center',\n                render: function render(h, params) {\n                    return h('div', [h('Button', {\n                        props: {\n                            type: 'primary',\n                            size: 'small'\n                        },\n                        style: {\n                            marginRight: '5px'\n                        },\n                        on: {\n                            click: function click() {\n                                _this.meetManage(params.index);\n                            }\n                        }\n                    }, '会议管理'), h('Button', {\n                        props: {\n                            type: 'error',\n                            size: 'small'\n                        },\n                        on: {\n                            click: function click() {\n                                _this.handleRemove(params.index);\n                            }\n                        }\n                    }, '删除社区')]);\n                }\n            }],\n            data1: [],\n            formDynamic: {\n                items: [{\n                    value: 'xin'\n                }]\n            }\n        };\n    },\n    created: function created() {\n        this.reloadPage();\n    },\n\n    methods: {\n        meetManage: function meetManage(index) {\n            this.$router.push({\n                path: '/addInfo/meetManage', query: {\n                    index: this.data1[index].Id\n                }\n            });\n        },\n        handleAdd: function handleAdd() {\n            var _this2 = this;\n\n            var cName = prompt(\"请输入社区名称\");\n            __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(\"/addCommunity\", __WEBPACK_IMPORTED_MODULE_1_qs___default.a.stringify({\n                communityname: cName\n            })).then(function (response) {\n                var data0 = response.data;\n                if (data0.Result == 1) {\n                    _this2.$Message.success(\"添加社区成功\");\n                    _this2.reloadPage();\n                } else {\n                    _this2.$Message.error(data0.ErrMsg);\n                }\n            }).catch(function (error) {\n                console.log('添加社区异常');\n                console.log(error);\n            });\n        },\n        handleRemove: function handleRemove(index) {\n            var _this3 = this;\n\n            var Id = this.data1[index].Id;\n\n            __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(\"/deleteCommunity\", __WEBPACK_IMPORTED_MODULE_1_qs___default.a.stringify({\n                Id: Id\n            })).then(function (response) {\n                var data0 = response.data;\n                if (data0.ErrCode == 1) {\n                    _this3.$Message.success(\"删除社区成功\");\n                    _this3.reloadPage();\n                } else {\n                    _this3.$Message.error(data0.ErrMsg);\n                }\n            }).catch(function (error) {\n                console.log(\"删除社区异常\");\n                console.log(error);\n            });\n            this.reloadPage();\n        },\n        reloadPage: function reloadPage() {\n            var _this4 = this;\n\n            __WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(\"/selectCommunity\").then(function (response) {\n                _this4.data1 = response.data.Result;\n            }).catch(function (error) {\n                console.log(error);\n            });\n        }\n    }\n\n});\n\n/***/ }),\n\n/***/ 711:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Row', [_c('Col', {\n    attrs: {\n      \"span\": \"24\"\n    }\n  }, [_c('div', {\n    staticClass: \"doc-header\"\n  }, [_c('br'), _vm._v(\" \"), _c('h3', {\n    attrs: {\n      \"align\": \"center\"\n    }\n  }, [_vm._v(\"社区管理\")]), _vm._v(\" \"), _c('br'), _c('br'), _vm._v(\" \"), _c('Table', {\n    attrs: {\n      \"align\": \"center\",\n      \"columns\": _vm.columns,\n      \"data\": _vm.data1\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"doc-header\"\n  }, [_c('Form', {\n    ref: \"formDynamic\",\n    attrs: {\n      \"model\": _vm.formDynamic,\n      \"label-width\": 80\n    }\n  }, [_c('Form-item', [_c('Button', {\n    attrs: {\n      \"type\": \"dashed\",\n      \"long\": \"\",\n      \"icon\": \"plus-round\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleAdd()\n      }\n    }\n  }, [_vm._v(\"新增社区\")])], 1)], 1)], 1)])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/46.ed3176e5f2a13b1d5386.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopChart.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-604e2345\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShopChart.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addInfo/ShopChart.vue\n// module id = 501\n// module chunks = 46","<template>\n\n    <div>\n\n        <Row>\n            <Col span=\"24\">\n\n                <div style=\"\" class=\"doc-header\">\n                    <br>\n                    <h3 align=\"center\">社区管理</h3>\n                    <br><br>\n                    <!--<Table align=\"center\" :columns=\"columns\" :data=\"data1\">-->\n                    <Table align=\"center\" :columns=\"columns\" :data=\"data1\">\n                    </Table>\n\n\n\n                </div>\n                <div style=\"\" class=\"doc-header\">\n                    <Form  ref=\"formDynamic\" :model=\"formDynamic\" :label-width=\"80\">\n                        <Form-item>\n                                <Button type=\"dashed\" long @click=\"handleAdd()\" icon=\"plus-round\">新增社区</Button>\n                        </Form-item>\n                    </Form>\n                </div>\n            </Col>\n        </Row>\n    </div>\n\n</template>\n<script>\n    import axios from \"axios\";\n    import qs from \"qs\";\n    export default {\n        data() {\n            return {\n                columns: [\n                    {\n                        title: '社区编号',\n                        align: 'center',\n                        key: 'Id'\n                    },\n                    {\n                        title: '社区名称',\n                        align: 'center',\n                        key: 'Communityname'\n                    },\n\n                    {\n                        title: '操作',\n                        key: 'action',\n                        align: 'center',\n                        render: (h, params) => {\n                            return h('div', [\n                                h('Button', {\n                                    props: {\n                                        type: 'primary',\n                                        size: 'small'\n                                    },\n                                    style: {\n                                        marginRight: '5px'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            this.meetManage(params.index)\n                                        }\n                                    }\n                                }, '会议管理'),\n                                h('Button', {\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            this.handleRemove(params.index)\n                                        }\n                                    }\n                                }, '删除社区')\n                            ]);\n                        }\n                    }\n                ],\n                data1: [],\n                formDynamic: {\n                    items: [\n                        {\n                            value: 'xin'\n                        }\n                    ]\n                },\n            }\n        },//data\n        created(){\n            this.reloadPage();\n        },\n        methods: {\n            meetManage(index){\n                this.$router.push({\n                    path: '/addInfo/meetManage', query: {\n                        index: this.data1[index].Id\n                    }\n                });\n            },\n            handleAdd() {\n                var cName = prompt(\"请输入社区名称\");\n                axios.post(\"/addCommunity\",qs.stringify({\n                    communityname:cName\n                })).then(response =>{\n                    const data0 = response.data;\n                    if(data0.Result==1){\n                        this.$Message.success(\"添加社区成功\");\n                        this.reloadPage();//添加成功后刷新当前界面\n                    }else {//社区已存在的情况\n                        this.$Message.error(data0.ErrMsg);\n                    }\n                }).catch(error =>{\n                    console.log('添加社区异常');\n                    console.log(error);\n                })\n                //todo insert into DB\n            },\n            handleRemove(index) {//删除社区\n                const Id =this.data1[index].Id;\n                // todo delete community from DB\n                axios.post(\"/deleteCommunity\",qs.stringify({\n                    Id:Id\n                })).then(response=>{\n                    const data0 = response.data;\n                    if(data0.ErrCode==1){\n                        this.$Message.success(\"删除社区成功\");\n                        this.reloadPage();//删除成功后刷新当前界面\n                    }else{\n                        this.$Message.error(data0.ErrMsg);\n                    }\n                }).catch(error=>{\n                   console.log(\"删除社区异常\");\n                   console.log(error);\n                })\n                this.reloadPage();\n            },\n            reloadPage(){\n                //todo select info\n                axios.get(\"/selectCommunity\").then(response=>{\n                    this.data1 = response.data.Result;\n                }).catch(error=>{\n                    console.log(error);\n                })\n            }\n        }\n\n    }\n</script>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ShopChart.vue?5573afd0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Row', [_c('Col', {\n    attrs: {\n      \"span\": \"24\"\n    }\n  }, [_c('div', {\n    staticClass: \"doc-header\"\n  }, [_c('br'), _vm._v(\" \"), _c('h3', {\n    attrs: {\n      \"align\": \"center\"\n    }\n  }, [_vm._v(\"社区管理\")]), _vm._v(\" \"), _c('br'), _c('br'), _vm._v(\" \"), _c('Table', {\n    attrs: {\n      \"align\": \"center\",\n      \"columns\": _vm.columns,\n      \"data\": _vm.data1\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"doc-header\"\n  }, [_c('Form', {\n    ref: \"formDynamic\",\n    attrs: {\n      \"model\": _vm.formDynamic,\n      \"label-width\": 80\n    }\n  }, [_c('Form-item', [_c('Button', {\n    attrs: {\n      \"type\": \"dashed\",\n      \"long\": \"\",\n      \"icon\": \"plus-round\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleAdd()\n      }\n    }\n  }, [_vm._v(\"新增社区\")])], 1)], 1)], 1)])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-604e2345\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/addInfo/ShopChart.vue\n// module id = 711\n// module chunks = 46"],"sourceRoot":""}