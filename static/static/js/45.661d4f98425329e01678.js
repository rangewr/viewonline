webpackJsonp([45],{502:function(e,t,o){var n=o(6)(o(590),o(709),null,null,null);e.exports=n.exports},590:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(34),a=o.n(n),i=o(74),d=o.n(i);t.default={data:function(){var e=this;return{model1:!1,model2:!1,model3:!1,communityId:0,communityName:"",formAdd:{input1:"",input2:""},columns:[{title:"社区编号",align:"center",key:"Id"},{title:"社区名称",align:"center",key:"Communityname"},{title:"操作",key:"action",align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.modelUpdate(o.index)}}},"修改"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.meetManage(o.index)}}},"会议"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.modelDel(o.index)}}},"删除")])}}],data1:[],formDynamic:{items:[{value:"xin"}]}}},created:function(){this.reloadPage()},methods:{updateName:function(){var e=this;a.a.post("/admin/UpdateCommunityInfo",d.a.stringify({id:this.communityId,communityname:this.formAdd.input2})).then(function(t){var o=t.data;0==o.ErrCode?(e.$Message.success("修改成功"),e.formAdd.input2="",e.reloadPage()):e.$Message.error(o.ErrMsg)}).catch(function(e){console.log("修改社区异常"),console.log(e)})},modelAdd:function(){this.model1=!0},addOk:function(){this.model1=!1,""!=this.formAdd.input1?this.handleAdd():this.$Message.error("社区名不能为空")},addCancel:function(){this.model1=!1,this.formAdd.input1=""},modelUpdate:function(e){this.communityId=this.data1[e].Id,this.model2=!0},updateOk:function(){this.model2=!1,""!=this.formAdd.input2?this.updateName():this.$Message.error("社区名不能为空")},updateCancel:function(){this.model2=!1,this.formAdd.input2=""},modelDel:function(e){this.model3=!0,this.communityName=this.data1[e].Communityname,this.communityId=this.data1[e].Id},delOk:function(){this.model3=!1,this.handleRemove()},delCancel:function(){this.model3=!1},meetManage:function(e){this.$router.push({path:"/addInfo/meetManage",query:{index:this.data1[e].Id}})},handleAdd:function(){var e=this;a.a.post("/admin/AddCommunityInfo",d.a.stringify({communityname:this.formAdd.input1})).then(function(t){var o=t.data;0==o.ErrCode?(e.$Message.success("添加社区成功"),e.formAdd.input1="",e.reloadPage()):e.$Message.error(o.ErrMsg)}).catch(function(e){console.log("添加社区异常"),console.log(e)})},handleRemove:function(){var e=this;a.a.post("/admin/DelCommunityInfo",d.a.stringify({id:this.communityId})).then(function(t){var o=t.data;0==o.ErrCode?(e.$Message.success("删除社区成功"),e.reloadPage()):e.$Message.error(o.ErrMsg)}).catch(function(e){console.log("删除社区异常"),console.log(e)})},reloadPage:function(){var e=this;a.a.get("/admin/GetCommunityList").then(function(t){var o=t.data;-5==t.data.ErrCode&&(Cookies.remove("Admin-Token"),Cookies.remove("UserName"),window.location.reload()),0==o.ErrCode?e.data1=o.Result:e.$Message.error(o.ErrMsg)}).catch(function(e){console.log(e)})}}}},709:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Row",[o("Col",{attrs:{span:"24"}},[o("div",{staticClass:"doc-header"},[o("br"),e._v(" "),o("h3",{attrs:{align:"center"}},[e._v("社区管理")]),e._v(" "),o("br"),o("br"),e._v(" "),o("Table",{attrs:{align:"center",columns:e.columns,data:e.data1}}),e._v(" "),o("Modal",{attrs:{title:"新增社区"},on:{"on-ok":e.addOk,"on-cancel":e.addCancel},model:{value:e.model1,callback:function(t){e.model1=t},expression:"model1"}},[o("Form",{attrs:{model:e.formAdd,"label-position":"top"}},[o("Form-item",{attrs:{label:"输入名称"}},[o("Input",{model:{value:e.formAdd.input1,callback:function(t){e.formAdd.input1=t},expression:"formAdd.input1"}})],1)],1)],1),e._v(" "),o("Modal",{attrs:{title:"修改社区名称"},on:{"on-ok":e.updateOk,"on-cancel":e.updateCancel},model:{value:e.model2,callback:function(t){e.model2=t},expression:"model2"}},[o("Form",{attrs:{model:e.formAdd,"label-position":"top"}},[o("Form-item",{attrs:{label:"输入名称"}},[o("Input",{model:{value:e.formAdd.input2,callback:function(t){e.formAdd.input2=t},expression:"formAdd.input2"}})],1)],1)],1),e._v(" "),o("Modal",{attrs:{title:"删除提示"},on:{"on-ok":e.delOk,"on-cancel":e.delCancel},model:{value:e.model3,callback:function(t){e.model3=t},expression:"model3"}},[o("p",[e._v("您将删除 [ "+e._s(e.communityName)+" ]"),o("br"),e._v("是否确认删除?")])])],1),e._v(" "),o("div",{staticClass:"doc-header"},[o("Form",{ref:"formDynamic",attrs:{model:e.formDynamic,"label-width":80}},[o("Form-item",[o("Button",{attrs:{type:"dashed",long:"",icon:"plus-round"},on:{click:function(t){e.modelAdd()}}},[e._v("新增社区")]),e._v(" "),o("Button",{attrs:{type:""}})],1)],1)],1)])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=45.661d4f98425329e01678.js.map